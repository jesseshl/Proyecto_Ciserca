<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ciserca</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../Iconos/css/all.min.css">
    <link rel="stylesheet" href="../css/Estilo_Ciserca.css">
    <style type="text/css" media="screen">
        .carousel {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
        }
        #imagen {
            width: 100%;
            height: 400px;
            background-size: cover;
        }
    </style>
    <script>
        window.onload = function () {
            
            const IMAGENES = [
                
                '../img/bloques.jpeg',
                '../img/ciserca2.jpg',
                '../img/ciserca2.png',
                '../img/ciserca4.png'
                
            ];

            const TIEMPO_INTERVALO_MILESIMAS_SEG = 1000;
            let posicionActual = 0;
            let $botonRetroceder = document.querySelector('#retroceder');
            let $botonAvanzar = document.querySelector('#avanzar');
            let $imagen = document.querySelector('#imagen');
            let $botonPlay = document.querySelector('#play');
            let $botonStop = document.querySelector('#stop');
            let intervalo;

            
            function pasarFoto() {
                if(posicionActual >= IMAGENES.length - 1) {
                    posicionActual = 0;
                } else {
                    posicionActual++;
                }
                renderizarImagen();
            }

            
            function retrocederFoto() {
                if(posicionActual <= 0) {
                    posicionActual = IMAGENES.length - 1;
                } else {
                    posicionActual--;
                }
                renderizarImagen();
            }

            
            function renderizarImagen () {
                $imagen.style.backgroundImage = `url(${IMAGENES[posicionActual]})`;
            }

            
            function playIntervalo() {
                intervalo = setInterval(pasarFoto, TIEMPO_INTERVALO_MILESIMAS_SEG);
                // Desactivamos los botones de control
                $botonAvanzar.setAttribute('disabled', true);
                $botonRetroceder.setAttribute('disabled', true);
                $botonPlay.setAttribute('disabled', true);
                $botonStop.removeAttribute('disabled');

            }

            
            function stopIntervalo() {
                clearInterval(intervalo);
                // Activamos los botones de control
                $botonAvanzar.removeAttribute('disabled');
                $botonRetroceder.removeAttribute('disabled');
                $botonPlay.removeAttribute('disabled');
                $botonStop.setAttribute('disabled', true);
            }

            
            $botonAvanzar.addEventListener('click', pasarFoto);
            $botonRetroceder.addEventListener('click', retrocederFoto);
            $botonPlay.addEventListener('click', playIntervalo);
            $botonStop.addEventListener('click', stopIntervalo);
            
            renderizarImagen();
        } 
    </script>

</head>
<body>  
    <header class="encabezado">
        <div class="contenedor_logo">
            <img src="../img/Logo.png" alt="Ciserca">
        </div>
      </header>
      <nav  id="nav">
          <div class="menu" id="menu">
              <div class="icono_movil">
                  <p><b>¡Cooperativa Ciserca</b></p>
                  <p><b>manufacturera de Bloques!</b></p>
                  <a href="#" class="btn-menu" id="btn-menu"><i class="icono fa fa-bars"></i></a>
              </div>
              <div class="enlaces" id="enlaces">   
              <a href="../Html/Pagina_main.html"><i class="fas fa-home"></i>Inicio</a>
              <a href="../Html/Formulario.html"><i class="fas fa-sign-in-alt"></i>Iniciar Sesión</a>
              <a href="../Html/Ciserca.html"><i class="fas fa-images"></i>Galeria</a>
              <a href="#"><i class="fas fa-id-card-alt"></i>Contactos</a>
              </div>
          </div>
      </nav>
      <div class="carousel">
        <button id="retroceder">Retroceder</button>
        <div id="imagen"></div>
        <button id="avanzar">Avanzar</button>
    </div>
    <br>
    <center>
    <div class="controles">
        <button id="play">Play</button>
        <button id="stop" disabled>Stop</button>
    </div>
    </center>
    
  
</body>
</html>
